<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>recycle</title>
    <script src="../../lib/assert.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="../../style.css">
    <style>
        div {
            background-color: gray;
            color: greenyellow;
        }
    </style>
</head>

<body>
    <div>DIV 0</div>
    <div>DIV 1</div>

    <script type="text/javascript">
        var divs = document.getElementsByTagName('div');
/*
        for (var i = 0; i < divs.length; i++) {
            divs[i].addEventListener('click', () => alert("divs #" + i + " was clicked."), false);// 数值i因为会被更新到2，所以点击的时候都会是2。
        }
*/
        for (var i = 0; i < divs.length; i++) {
            (function (n) {
                divs[i].addEventListener('click', () => alert("divs #" + n + " was clicked."), false);
            })(i);
        }
    </script>
</body>

</html>